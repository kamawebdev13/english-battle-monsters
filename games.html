<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prepositions Battles</title>
    <link rel="stylesheet" href="./cssgames/games.css">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@4.7.0/fonts/remixicon.min.css" rel="stylesheet">

</head>

<body>

    <div id="games-menu">
        <h1 class="text-h1">CHOOSE YOUR BATTLES</h1>
        <div class="menu__grid">

            <div class="menu__card">
                <div class="menu__image">
                    <img loading="lazy" src="./games/menu/img/drooler-baby.webp" alt="drooler-baby-card">
                </div>
                <a class="btn--rounded" href="#" target="_blank" rel="noopener noreferrer">BEGINNERS</a>
                <div class="dropdown-menu">
                    <div class="dropdown-links">
                        <a class="btn--dropdown" href="#" target="_blank" rel="noopener noreferrer"
                            onclick="loadGame('games/prepositionsbattle/config.js')">Prepositions</a>
                        <a class="btn--dropdown" href="#" target="_blank" rel="noopener noreferrer"
                            onclick="loadGame('games/pastsimple/config.js')">Past Simple</a>
                    </div>
                </div>
            </div>

            <div class="menu__card">
                <div class="menu__image">
                    <img loading="lazy" src="./games/menu/img/drooler-card.webp" alt="drooler-card">
                </div>
                <a class="btn--rounded" href="#" target="_blank" rel="noopener noreferrer">ADVANCED</a>
                <div class="dropdown-menu">
                    <div class="dropdown-links">
                        <a class="btn--dropdown" href="#" target="_blank" rel="noopener noreferrer"
                            onclick="loadGame('games/phrasalverbs/config.js')">Phrasal Verbs</a>
                        <a class="btn--dropdown" href="#" target="_blank" rel="noopener noreferrer"
                            onclick="loadGame('games/pastperfect/config.js')">Past Perfect</a>
                    </div>

                </div>

            </div>
        </div>
    </div>
    <div id="game__wrapper">
        <!--  GAME SECTION -->
        <div class="game__section">
            <div class="game-btns__block">
                <div class="circle-btn">
                    <a href="#" title="circle-btn "><i class="ri-home-smile-fill icon-outline"></i></a>
                </div>
                <div class="circle-btn">
                    <a href="#" title="circle-btn"><i class="ri-arrow-left-fill icon-outline"></i></a>
                </div>
                <!---------------------->
                <!--  GAME AREA-->
            </div>
            <div class="game-area__container">
                <!--  TEXTO DE NIVEL -->
                <div id="level-text" class="level-overlay">
                    <h3 id="level-one-text" class="text-h1"></h3>
                </div>
                <!---------------------->
                <!--  INSTRUCCIONES -->
                <div id="game-instructions" class="game-instructions">
                    <div class="instructions__block">
                        <div class="visual">
                            <h1 class="text-h1"></h1>
                            <h2 class="text-h3"></h2>

                            <ul class="how-to-play">
                            </ul>

                        </div>
                        <div class="visual">
                            <a id="btn-play-game" class="btn--rounded" title="btn-play"></a>
                        </div>
                    </div>
                </div>

                <div id="game-area">
                    <div id="game-area__block" class="game-area__block">
                    </div>

                </div>
                <!---------------------->

            </div>
            <!--  TIME BAR-->
            <div id="time-bar__block" class="time-bar__block">
                <p>TIME</p>
                <div class="visual">
                    <div class="circle-btn">
                        <i class="ri-hourglass-fill icon-outline"></i>
                    </div>
                </div>

                <div class="time-filler__container">
                    <div id="time-filler" class="time-filler">
                    </div>
                </div>
                <p id="time" class="time-counter">0</p>

            </div>
        </div>
        <!---------------------->

    </div>

    <script src="jsgames/gamesengine.js"></script>

    <script>
        /*CREAMOS FUNCION PARA CARGAR EL JUEGO ELEGIDO*/
        function loadGame(configPath) {
            /*OCULTA EL GAMES MENU Y MUESTRA EL AREA DE JUEGO*/
            document.getElementById('games-menu').style.display = 'none';
            document.getElementById('game-wrapper').style.display = 'block';

            /*CREAMOS EL SCRIPT PARA ELEGIR EL JUEGO ELEGIDO*/
            const script = document.createElement('script');
            script.src = configPath;

            /*CARGADO DE JUEGO ELEGIDO*/
            script.onload = () => {
                console.log("CONFIG LOADED:", configPath);
                if (typeof initGame === "function") {
                    initGame();
                } else {
                    console.error("Error: initGame NO FOUND IN engine.js");
                }
            };

            script.onerror = () => {
                alert("Error: FILE NOT FOUND " + configPath);
                location.reload();
            };

            document.body.appendChild(script);
        }
    </script>




</body>

</html>

